# Environment Variables
# Copy this file to .env for local development

# Server Configuration
PORT=3000
NODE_ENV=development

# MongoDB Configuration
# IMPORTANT: Replace <db_password> with your actual MongoDB password
MONGODB_URI=mongodb+srv://olwalgeorge:<db_password>@cluster0.wncfx.mongodb.net/starmock?retryWrites=true&w=majority

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# AI Feedback Provider Configuration
# Options: rule_based (default), openai
FEEDBACK_PROVIDER=rule_based
# Required when FEEDBACK_PROVIDER=openai
# OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_FEEDBACK_MODEL=gpt-4o-mini
OPENAI_PROMPT_VERSION=star-eval.v1
FEEDBACK_PROVIDER_RETRIES=1
FEEDBACK_PROVIDER_TIMEOUT_MS=20000

# Transcription Configuration
# Options: mock (default), openai
TRANSCRIPTION_PROVIDER=mock
TRANSCRIPTION_JOB_WORKER_ENABLED=true
TRANSCRIPTION_JOB_POLL_INTERVAL_MS=6000
TRANSCRIPTION_JOB_BATCH_SIZE=2
TRANSCRIPT_REVIEW_CONFIDENCE_THRESHOLD=0.75

# Audio Upload Security
UPLOAD_SIGNING_SECRET=change-this-upload-signing-secret
UPLOAD_URL_TTL_SECONDS=300
UPLOAD_MAX_AUDIO_BYTES=12582912
UPLOAD_ALLOWED_AUDIO_MIME=audio/webm,audio/webm;codecs=opus,audio/mp4,audio/mpeg,audio/wav
# UPLOAD_STORAGE_DIR=./tmp/audio-uploads

# Rate Limits for expensive routes
EXPENSIVE_ROUTE_LIMIT_WINDOW_MS=300000
EXPENSIVE_ROUTE_LIMIT_MAX=30
UPLOAD_RATE_LIMIT_WINDOW_MS=300000
UPLOAD_RATE_LIMIT_MAX=20

# Feature Flags and rollout percentages
FEATURE_AI_RECORDING_ENABLED=true
FEATURE_AI_RECORDING_ROLLOUT_PERCENT=100
FEATURE_AUDIO_UPLOADS_ENABLED=true
FEATURE_AUDIO_UPLOADS_ROLLOUT_PERCENT=100
FEATURE_TRANSCRIPTION_ENABLED=true
FEATURE_TRANSCRIPTION_ROLLOUT_PERCENT=100

# Application (Frontend Vite)
VITE_APP_NAME=StarMock
VITE_APP_VERSION=0.0.0

# API Configuration (example)
# VITE_API_URL=http://localhost:3000/api
# VITE_API_TIMEOUT=30000

# Feature Flags (example)
# VITE_ENABLE_ANALYTICS=false
# VITE_ENABLE_DEBUG=true

# Build Configuration
# VITE_BASE_PATH=/
