<!doctype html>
<html class="dark" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StarMock - Mission Control</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
      rel="stylesheet"
    />

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Shared Tailwind Config -->
    <script src="/components/tailwind-config.js"></script>

    <!-- Global Styles -->
    <link href="/styles/global.css" rel="stylesheet" />
  </head>

  <body
    class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen flex flex-col font-display"
  >
    <!-- Background Grid -->
    <div class="fixed inset-0 grid-bg pointer-events-none opacity-40"></div>

    <!-- Header -->
    <div id="site-header"></div>

    <!-- Spacer -->
    <div class="h-12 w-full"></div>

    <!-- Main Content -->
    <main class="flex-1 px-5 py-6 relative z-10 max-w-6xl mx-auto w-full">
      <section class="mb-8">
        <h2 class="text-2xl font-bold mb-1">Mission Control</h2>
        <p class="text-slate-500 dark:text-slate-400 text-sm">
          Ready to level up your interview performance?
        </p>
        <div
          id="career-context-badge"
          class="mt-3 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold uppercase tracking-wide"
          style="display: none"
        >
          <span>AIR</span>
          <span
            id="career-context-text"
            class="normal-case font-semibold"
          ></span>
          <button
            id="career-context-edit-btn"
            type="button"
            class="normal-case font-semibold underline underline-offset-2 hover:opacity-80"
          >
            Edit
          </button>
        </div>
      </section>

      <section>
        <div class="flex items-center justify-between mb-5">
          <h3 class="text-lg font-bold flex items-center gap-2">
            Recommended
            <span
              class="text-primary text-xs bg-primary/10 px-2 py-0.5 rounded-full uppercase tracking-wider"
            >
              For You
            </span>
          </h3>
        </div>

        <div class="space-y-4">
          <!-- Question Card -->
          <div
            class="question-card bg-card-bg dark:bg-card-bg rounded-3xl p-6 border border-slate-800 shadow-xl shadow-black/5"
          >
            <div class="flex justify-between items-start mb-4">
              <span
                id="question-meta"
                class="px-3 py-1 bg-rose-500/10 text-rose-500 text-[10px] font-bold uppercase tracking-widest rounded-full"
              >
                Loading Question
              </span>
              <span
                id="session-progress-pill"
                class="px-3 py-1 bg-slate-700/70 text-slate-200 text-[10px] font-bold uppercase tracking-widest rounded-full"
              >
                Session idle
              </span>
            </div>

            <h4
              id="question-prompt"
              class="text-lg font-semibold leading-snug mb-6"
            >
              Loading interview prompt...
            </h4>
            <p id="question-progress-text" class="text-xs text-slate-400 mb-3">
              Question progress will appear here.
            </p>

            <!-- Question Navigation Mini-Map -->
            <div
              id="question-nav-map"
              class="hidden flex items-center gap-2 mb-4 flex-wrap"
              aria-label="Question navigation"
              role="navigation"
            ></div>

            <!-- Read Aloud (Text-to-Speech) -->
            <button
              id="read-aloud-btn"
              type="button"
              class="mb-4 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-slate-700 hover:bg-slate-600 text-slate-200 text-xs font-bold uppercase tracking-wide transition-colors focus:outline-none focus:ring-2 focus:ring-primary/60"
              style="display: none"
              aria-label="Read question aloud"
              aria-live="polite"
            >
              <span class="material-icons-round text-base" aria-hidden="true"
                >volume_up</span
              >
              <span id="read-aloud-label">Read Aloud</span>
            </button>
            <div
              class="flex items-center justify-between pt-4 border-t border-slate-800"
            >
              <div class="flex flex-wrap gap-2">
                <button
                  id="start-interview-btn"
                  class="start-btn bg-primary hover:opacity-90 transition-opacity text-background-dark px-6 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2"
                  disabled
                >
                  <span class="material-icons-round text-base">play_arrow</span>
                  Start Session
                </button>
                <button
                  id="repeat-question-btn"
                  type="button"
                  class="hidden bg-slate-700 hover:bg-slate-600 text-white px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide"
                  disabled
                >
                  Repeat Question
                </button>
                <button
                  id="prev-question-btn"
                  type="button"
                  class="hidden bg-slate-700 hover:bg-slate-600 text-white px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide"
                  disabled
                >
                  ‚Üê Previous
                </button>
                <button
                  id="next-question-btn"
                  type="button"
                  class="hidden bg-primary/20 hover:bg-primary/30 text-primary px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide"
                  disabled
                >
                  Next Question ‚Üí
                </button>
                <button
                  id="complete-session-btn"
                  type="button"
                  class="hidden bg-primary hover:bg-primary/90 text-background-dark px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide"
                  disabled
                >
                  Complete Session
                </button>
              </div>
            </div>

            <!-- Recording Indicator -->
            <div class="recording mt-4 flex items-center gap-3">
              <span id="recording-emoji" class="recording-emoji text-xl hidden"
                >üé§</span
              >
              <p
                id="recording-text"
                class="recording-text text-sm font-semibold text-red-500"
              >
                Awaiting start
              </p>
              <p id="recording-duration" class="text-xs text-slate-400 hidden">
                00:00
              </p>
              <p id="question-attempt-label" class="text-xs text-slate-400">
                Attempt 1
              </p>
            </div>

            <div class="mt-3 flex flex-wrap gap-2">
              <button
                id="record-toggle-btn"
                class="hidden bg-rose-500 hover:bg-rose-500/90 text-white px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wide"
                data-recording="false"
              >
                üéôÔ∏è Start Recording
              </button>
            </div>

            <!-- Answer Input -->
            <textarea
              id="response-input"
              class="answer-input hidden mt-4 w-full p-3 rounded-xl border border-slate-700 bg-slate-900 text-slate-100"
              placeholder="Review or type your STAR answer transcript here..."
            ></textarea>
            <!-- Live transcript indicator (browser speech-to-text) -->
            <div
              id="live-transcript-indicator"
              class="hidden mt-3 items-center gap-2"
            >
              <span class="relative flex h-3 w-3">
                <span
                  class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"
                ></span>
                <span
                  class="relative inline-flex rounded-full h-3 w-3 bg-red-500"
                ></span>
              </span>
              <span
                id="live-transcript-status"
                class="text-xs text-red-400 font-semibold"
              >
                Listening... speak clearly
              </span>
            </div>
            <div
              id="transcribing-indicator"
              class="hidden mt-3 items-center gap-2"
            >
              <svg
                class="animate-spin h-4 w-4 text-primary"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
                ></path>
              </svg>
              <span
                id="transcribing-status-text"
                class="text-xs text-primary font-semibold"
              >
                Transcribing your audio...
              </span>
            </div>
            <p
              id="transcript-warning"
              class="hidden mt-2 text-xs text-amber-400"
            >
              Transcript confidence is low. Review and edit before submitting.
            </p>
            <div class="mt-4 flex items-center gap-3">
              <button
                id="submit-response-btn"
                class="submit-btn hidden bg-primary hover:bg-primary/90 text-background-dark px-5 py-2 rounded-xl font-bold"
                disabled
              >
                Submit Answer
              </button>
              <p id="interview-message" class="text-sm text-slate-400"></p>
            </div>
            <p
              id="sr-announcer"
              class="sr-only"
              aria-live="polite"
              aria-atomic="true"
            ></p>
          </div>
        </div>
      </section>

      <section class="mt-8 mb-24">
        <div class="grid grid-cols-2 gap-4">
          <div class="bg-slate-800/50 rounded-2xl p-4">
            <p
              class="text-[10px] text-slate-400 uppercase font-bold tracking-widest mb-1"
            >
              Questions Answered
            </p>
            <div class="flex items-baseline gap-2">
              <span id="session-answered-value" class="text-2xl font-bold"
                >0/0</span
              >
              <span
                id="session-answered-delta"
                class="text-[10px] text-primary font-bold"
              >
                Session idle
              </span>
            </div>
          </div>

          <div class="bg-slate-800/50 rounded-2xl p-4">
            <p
              class="text-[10px] text-slate-400 uppercase font-bold tracking-widest mb-1"
            >
              Total Attempts
            </p>
            <div class="flex items-baseline gap-2">
              <span id="session-attempts-value" class="text-2xl font-bold"
                >0</span
              >
              <span
                id="session-retries-delta"
                class="text-[10px] text-primary font-bold"
              >
                Retries 0
              </span>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         CAREER PROFILE WIZARD ‚Äî 4-step multi-stage onboarding
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div
      id="career-profile-overlay"
      class="hidden fixed inset-0 z-40 bg-slate-950/90 backdrop-blur-md px-4 py-4 overflow-y-auto"
    >
      <div
        class="wizard-shell max-w-2xl mx-auto bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-700/50 rounded-3xl shadow-2xl shadow-primary/5 mt-6 mb-10 overflow-hidden"
      >
        <!-- ‚îÄ‚îÄ Header + progress ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div class="px-6 pt-6 pb-4 border-b border-slate-800/50">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-2xl bg-primary/10 flex items-center justify-center">
              <span class="material-icons-round text-primary text-xl" aria-hidden="true">rocket_launch</span>
            </div>
            <div>
              <h3 class="text-lg font-bold leading-tight">Set Up Your Interview Profile</h3>
              <p class="text-xs text-slate-400">We'll tailor every question and review to you</p>
            </div>
          </div>

          <!-- Progress bar -->
          <div class="flex items-center gap-1.5 mt-2">
            <div id="wizard-progress-1" class="h-1 flex-1 rounded-full bg-primary transition-colors duration-300"></div>
            <div id="wizard-progress-2" class="h-1 flex-1 rounded-full bg-slate-700 transition-colors duration-300"></div>
            <div id="wizard-progress-3" class="h-1 flex-1 rounded-full bg-slate-700 transition-colors duration-300"></div>
            <div id="wizard-progress-4" class="h-1 flex-1 rounded-full bg-slate-700 transition-colors duration-300"></div>
          </div>
          <p id="wizard-step-label" class="text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-2">Step 1 of 4</p>
        </div>

        <!-- ‚îÄ‚îÄ Wizard steps container ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <form id="career-profile-form" class="relative overflow-hidden" autocomplete="off">

          <!-- ‚îÄ‚îÄ STEP 1 ‚Äî Job Title w/ autocomplete ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
          <div id="wizard-step-1" class="wizard-step px-6 py-6" data-step="1">
            <h4 class="text-base font-bold mb-1">What role are you preparing for?</h4>
            <p class="text-sm text-slate-400 mb-5">Type your target job title ‚Äî we'll match it to our competency frameworks.</p>

            <div class="relative">
              <span class="material-icons-round absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-500 text-lg pointer-events-none">work</span>
              <input
                id="career-job-title"
                type="text"
                class="w-full rounded-2xl border border-slate-700 bg-slate-800/70 text-slate-100 pl-11 pr-4 py-3.5 text-sm placeholder-slate-500 focus:border-primary focus:ring-1 focus:ring-primary/40 transition-colors"
                placeholder="e.g. Software Engineer, Product Manager, Data Analyst..."
                maxlength="120"
                required
                aria-label="Target job title"
                role="combobox"
                aria-autocomplete="list"
                aria-expanded="false"
                aria-controls="job-title-autocomplete"
              />
              <!-- Autocomplete dropdown -->
              <div
                id="job-title-autocomplete"
                class="hidden absolute left-0 right-0 top-full mt-1 bg-slate-800 border border-slate-700 rounded-2xl shadow-xl shadow-black/30 max-h-52 overflow-y-auto z-50"
                role="listbox"
                aria-label="Job title suggestions"
              ></div>
            </div>

            <p id="job-title-match-hint" class="hidden mt-3 text-xs font-semibold"></p>
          </div>

          <!-- ‚îÄ‚îÄ STEP 2 ‚Äî Industry visual grid ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
          <div id="wizard-step-2" class="wizard-step hidden px-6 py-6" data-step="2">
            <h4 class="text-base font-bold mb-1">Which industry?</h4>
            <p class="text-sm text-slate-400 mb-5">Choose one ‚Äî questions will reference real scenarios from this field.</p>

            <!-- Hidden select preserves the form value -->
            <select id="career-industry" class="sr-only" required aria-label="Industry">
              <option value="">Select industry</option>
            </select>

            <div
              id="industry-grid"
              class="grid grid-cols-2 sm:grid-cols-3 gap-2.5"
              role="radiogroup"
              aria-label="Select your industry"
            >
              <!-- Cards rendered by JS -->
            </div>
          </div>

          <!-- ‚îÄ‚îÄ STEP 3 ‚Äî Seniority visual track ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
          <div id="wizard-step-3" class="wizard-step hidden px-6 py-6" data-step="3">
            <h4 class="text-base font-bold mb-1">Your experience level?</h4>
            <p class="text-sm text-slate-400 mb-5">This calibrates question difficulty and evaluator expectations.</p>

            <select id="career-seniority" class="sr-only" required aria-label="Seniority level">
              <option value="">Select level</option>
            </select>

            <div
              id="seniority-track"
              class="flex flex-col gap-2"
              role="radiogroup"
              aria-label="Select your seniority level"
            >
              <!-- Track items rendered by JS -->
            </div>
          </div>

          <!-- ‚îÄ‚îÄ STEP 4 ‚Äî Job description (optional) + summary ‚îÄ‚îÄ‚îÄ -->
          <div id="wizard-step-4" class="wizard-step hidden px-6 py-6" data-step="4">
            <h4 class="text-base font-bold mb-1">
              Paste a job description
              <span class="text-slate-500 font-normal">(optional)</span>
            </h4>
            <p class="text-sm text-slate-400 mb-5">Key responsibilities from the listing help us ask hyper-relevant questions.</p>

            <textarea
              id="career-job-description"
              class="w-full rounded-2xl border border-slate-700 bg-slate-800/70 text-slate-100 px-4 py-3.5 text-sm placeholder-slate-500 min-h-[120px] focus:border-primary focus:ring-1 focus:ring-primary/40 transition-colors resize-y"
              placeholder="Paste key responsibilities from the job listing here..."
              maxlength="3000"
              aria-label="Job description text"
            ></textarea>
            <p class="mt-2 text-[10px] text-slate-500"><span id="jd-char-count">0</span> / 3 000 characters</p>

            <!-- Profile summary card -->
            <div id="wizard-summary" class="mt-5 rounded-2xl border border-slate-700/50 bg-slate-800/40 p-4">
              <p class="text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-2">Your interview profile</p>
              <div class="flex flex-wrap items-center gap-2">
                <span id="summary-role" class="inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-primary/10 text-primary text-xs font-bold"></span>
                <span id="summary-industry" class="inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-blue-500/10 text-blue-400 text-xs font-bold"></span>
                <span id="summary-seniority" class="inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-amber-500/10 text-amber-400 text-xs font-bold"></span>
              </div>
            </div>
          </div>

          <!-- ‚îÄ‚îÄ Error / info message ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
          <p id="career-profile-message" class="hidden mx-6 mb-2 text-sm text-red-400" role="alert"></p>

          <!-- ‚îÄ‚îÄ Navigation footer ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
          <div class="wizard-nav px-6 py-4 border-t border-slate-800/50 flex items-center justify-between">
            <button
              id="wizard-back-btn"
              type="button"
              class="invisible text-sm text-slate-400 hover:text-slate-200 font-semibold transition-colors px-3 py-2 -ml-3 rounded-xl flex items-center gap-1"
            >
              <span class="material-icons-round text-base" aria-hidden="true">arrow_back</span>
              Back
            </button>

            <div class="flex items-center gap-2">
              <button
                id="wizard-skip-step-btn"
                type="button"
                class="hidden text-sm text-slate-500 hover:text-slate-300 font-medium transition-colors px-3 py-2 rounded-xl"
              >
                Skip
              </button>
              <button
                id="wizard-next-btn"
                type="button"
                class="wizard-primary-btn bg-primary hover:bg-primary/90 text-background-dark px-6 py-2.5 rounded-xl font-bold text-sm transition-all duration-200 flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed"
                disabled
              >
                <span id="wizard-next-label">Next</span>
                <span class="material-icons-round text-base" aria-hidden="true" id="wizard-next-icon">arrow_forward</span>
              </button>
              <button
                id="career-profile-submit-btn"
                type="submit"
                class="hidden wizard-primary-btn bg-primary hover:bg-primary/90 text-background-dark px-6 py-2.5 rounded-xl font-bold text-sm transition-all duration-200 items-center gap-2"
              >
                <span class="material-icons-round text-base" aria-hidden="true">check</span>
                Start Practicing
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Footer -->
    <div id="site-footer"></div>

    <!-- JS Components -->
    <script src="/components/auth-check.js" defer></script>
    <script src="/components/header.js" defer></script>
    <script src="/components/footer.js" defer></script>
    <script src="/components/interview-redirect.js" defer></script>
  </body>
</html>
